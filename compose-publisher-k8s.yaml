version: '3.8'
services:
  generator:
    build:
      context: ./go-generator
      dockerfile: Dockerfile
    environment:
      GENERATOR_BROKER_ADDRESS: andromeda.lasdpc.icmc.usp.br:31883
      GENERATOR_TOPIC: farm_id/device_id/testclient1
      GENERATOR_NUM_DEVICES: "1"
      GENERATOR_PUBLISH_TIMEOUT_MS: "1000"
      GENERATOR_PUBLISH_CONTINUOUS: "true"
      GENERATOR_PUBLISH_DURATION_SECONDS: "10"
